import base64
exec(base64.b64decode(b'IyEvYmluL3B5dGhvbjMKCmltcG9ydCBvcywgdGltZQpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yCgojIGF1dG8gbW9kdWxlIGluc3RhbGwgaWYgbW9kdWxlIG5vdCBmb3VuZAp0cnk6CiAgICBpbXBvcnQgcmVxdWVzdHMKZXhjZXB0OgogICAgb3Muc3lzdGVtKCJwaXAgaW5zdGFsbCByZXF1ZXN0cyIpCiAgICBpbXBvcnQgcmVxdWVzdHMKCiMgZ2V0IHRlcm1pbmFsIHdpZHRoIHNpemUKdHNpemU9b3MuZ2V0X3Rlcm1pbmFsX3NpemUoKVswXQpsaW5leD1sYW1iZGE6cHJpbnQoIj0iKnRzaXplKQoKCmRlZiBtYWluKCk6CiAgICAjIGNsZWFyIHRlcm1pbmF0ZSBzY3JlZW4KICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgcHJpbnQoZiIiIlx4MWJbMzg7NTsxMjNtCuKWiOKWiOKVlyAg4paI4paI4pWX4paI4paI4pWXICAg4paI4paI4pWX4paI4paI4paI4paI4paI4paI4pWXIArilojilojilZEgIOKWiOKWiOKVkeKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVlwrilojilojilojilojilojilojilojilZHilojilojilZEgICDilojilojilZHilojilojilojilojilojilojilZTilZ0K4paI4paI4pWU4pWQ4pWQ4paI4paI4pWR4paI4paI4pWRICAg4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4paI4paI4pWXCuKWiOKWiOKVkSAg4paI4paI4pWR4pWa4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4paI4paI4paI4paI4pWU4pWdCuKVmuKVkOKVnSAg4pWa4pWQ4pWdIOKVmuKVkOKVkOKVkOKVkOKVkOKVnSDilZrilZDilZDilZDilZDilZDilZ0gIiIiKQogICAgbGluZXgoKQogICAgcHJpbnQoIlx4MWJbOTZtIFsxXSDimbLvuI7vuI7vuI7wnZCC8J2QofCdkJ7wnZCc8J2QpCDwnZCF8J2Qq/CdkKjwnZCmIPCdkJPwnZCx8J2QrSDwnZCF8J2QovCdkKXwnZCeICIpCiAgICBwcmludCgiXHgxYlszODs1OzExOG0gWzJdIOKZsu+4ju+4jvCdkIbwnZCe8J2QrSDwnZCF8J2Qq/CdkJ7wnZCeIPCdkIDwnZCc8J2QrfCdkKLwnZCv8J2QniDwnZCP8J2Qq/CdkKjwnZCx8J2QovCdkJ7wnZCsICIpCiAgICBsaW5leCgpCiAgICBvcHR6ID0gaW5wdXQoIlx4MWJbOTZt8J2QhPCdkKfwnZCt8J2QnvCdkKsg8J2QsvCdkKjwnZCu8J2QqyDwnZCc8J2QofCdkKjwnZCi8J2QnPCdkJ4g4p67ICIpCiAgICBpZiBvcHR6ID09ICIxIjoKICAgICAgICBwcm94aWVzX2NoZWNrZXJfMSgpCiAgICBlbGlmIG9wdHogPT0gIjIiOgogICAgICAgIHByb3hpZXNfY2hlY2tlcl8yKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoIk9wdGlvbiBudW1iZXIiLCBvcHR6LCAibm90IGZvdW5kIikKICAgICAgICB0aW1lLnNsZWVwKDAuMikKICAgICAgICBtYWluKCkKCnByb3hpZXNfbGlzdCA9IFtdCmRlZiBnZXRweCh0eXBlKToKICAgIGdsb2JhbCBwcm94aWVzX2xpc3QKICAgIHRyeToKICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGYiaHR0cHM6Ly9hcGkucHJveHlzY3JhcGUuY29tL3YyLz9yZXF1ZXN0PWRpc3BsYXlwcm94aWVzJnByb3RvY29sPXt0eXBlfSZ0aW1lb3V0PTEwMDAwMCZjb3VudHJ5PWFsbCZzc2w9YWxsJmFub255bWl0eT1hbGwiKS50ZXh0CiAgICAgICAgcHJveGllc19saXN0ICs9IGRhdGEuc3BsaXRsaW5lcygpCiAgICBleGNlcHQ6CiAgICAgICAgcHJpbnQoIkNvbm5lY3Rpb24gRXJyb3IiKQogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICBnZXRweCh0eXBlKQoKZGVmIHByb3hpZXNfY2hlY2tlcl8yKCk6CiAgICBnbG9iYWwgcHJveGllc19saXN0CiAgICAjIGZyZWUgaHR0cCBwcm94aWVzIOGAmuGAsOGAkOGAsuGAt+GAoeGAhuGAhOGAt+GAugogICAgZ2V0cHgoImh0dHAiKQogICAgIyBmcmVlIHNvY2tzNCBwcm94aWVzIOGAmuGAsOGAkOGAsuGAt+GAoeGAhuGAhOGAt+GAugogICAgZ2V0cHgoInNvY2tzNCIpCiAgICAjIGZyZWUgc29ja3M1IHByb3hpZXMg4YCa4YCw4YCQ4YCy4YC34YCh4YCG4YCE4YC34YC6CiAgICBnZXRweCgic29ja3M1IikKICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTUwKSBhcyB0cmQ6CiAgICAgICAgZm9yIGlwIGluIHByb3hpZXNfbGlzdDoKICAgICAgICAgICAgdHJkLnN1Ym1pdChwcm94eV9jaGVjaywgaXApCgpkZWYgcHJveGllc19jaGVja2VyXzEoKToKICAgIGdsb2JhbCBwcm94aWVzX2xpc3QKICAgIGZpbGVfbmFtZSA9IGlucHV0KCJFbnRlciBmaWxlIG5hbWUgOiAiKQogICAgIyBmaWxlIOGAmeGAm+GAvuGAreGAm+GAhOGAuiBub3QgZm91bmQg4YCV4YC84YCZ4YCK4YC34YC64YCU4YCx4YCb4YCsCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoZmlsZV9uYW1lKToKICAgICAgICBleGl0KCJGaWxlIDogIiArIGZpbGVfbmFtZSArICIgbm90IGZvdW5kIikKICAgICMgcHJveGllcyBmaWxlIOGAgOGAreGAryByZWFkIOGAnOGAr+GAleGAuuGAleGAruGAuCBsaXN0IOGAoeGAlOGAseGAlOGAsuGAtyBkYXRhIGRpY3Rpb25hcnkg4YCR4YCy4YCR4YCK4YC34YC64YCc4YCt4YCv4YCA4YC64YCe4YCK4YC6CiAgICBkYXRhID0gb3BlbihmaWxlX25hbWUsICJyIikucmVhZCgpLnNwbGl0bGluZXMoKQogICAgd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9NTApIGFzIHRyZDoKICAgICAgICBmb3IgaXAgaW4gZGF0YToKICAgICAgICAgICAgdHJkLnN1Ym1pdChwcm94eV9jaGVjaywgaXApCgoKCgpkZWYgcHJveHlfY2hlY2soaXApOgogICAgdHlwZSA9IFsiaHR0cCIsInNvY2tzNCIsInNvY2tzNSJdICMgcHJveGllcyB0eXBlCiAgICAjIHByb3h5IOGAlOGAsuGAtyBodHRwIHJlcXVlc3RzIOGAkOGAveGAseGAkOGAveGAsuGAnuGAr+GAtuGAuOGAgeGAu+GAhOGAuuGAm+GAhOGAuiBkaWN0aW9uYXJ5IOGAoeGAlOGAseGAlOGAsuGAt+GAnuGAkOGAuuGAmeGAvuGAkOGAuuGAleGAseGAuOGAm+GAmeGAvuGArOGAleGAqwogICAgZm9yIF90eXBlXyBpbiB0eXBlOgogICAgICAgIHByb3h5ID0geyJodHRwIjpmIntfdHlwZV99Oi8ve2lwfSJ9CiAgICAgICAgI3ByaW50KCJceDFiWzE7OTdtIixwcm94eSkKICAgICAgICB0cnk6CiAgICAgICAgICAgICMg4YCQ4YCA4YCa4YC64YCc4YCt4YCv4YC3IHByb3h5IOGAgOGAmeGAvuGArOGAuOGAlOGAseGAm+GAhOGAuuGAkOGAseGArOGAtyByZXF1ZXN0cyDhgJzhgK3hgK/hgLfhgJvhgJnhgL7hgKzhgJnhgJ/hgK/hgJDhgLrhgJXhgKvhgJjhgLDhgLjhgYsgZXJyb3Ig4YCQ4YCA4YC64YCZ4YC+4YCs4YCV4YCrCiAgICAgICAgICAgIGRhdGEgPSByZXF1ZXN0cy5nZXQoImh0dHA6Ly9pcC1hcGkuY29tL2pzb24vIiwgcHJveGllcz1wcm94eSwgdGltZW91dD01KQogICAgICAgICAgICBpZiBkYXRhLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgICAgIGlmIHByb3h5WyJodHRwIl0uc3RhcnRzd2l0aCgoImh0dHAiKSk6CiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSAiXHgxYlsxOzkybSIKICAgICAgICAgICAgICAgIGVsaWYgcHJveHlbImh0dHAiXS5zdGFydHN3aXRoKCgic29ja3M0IikpOgogICAgICAgICAgICAgICAgICAgIGNvbG9yID0gIlx4MWJbMTs5Nm0iCiAgICAgICAgICAgICAgICBlbGlmIHByb3h5WyJodHRwIl0uc3RhcnRzd2l0aCgoInNvY2tzNSIpKToKICAgICAgICAgICAgICAgICAgICBjb2xvciA9ICJceDFiWzE7OTNtIgogICAgICAgICAgICAgICAgcHJpbnQoY29sb3IrIkFjdGl2ZSAgICA6IiwgcHJveHlbImh0dHAiXSkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgd2l0aCBvcGVuKCIvc2RjYXJkL0Rvd25sb2FkL1RlbGVncmFtL0h1Yl9hY3RpdmVfcHJveGllcy50eHQiLCAiYSIpICAgYXMgZmlsZToKICAgICAgICAgICAgICAgICAgICBmaWxlLndyaXRlKGlwICsgIlxuIikKICAgICAgICAgICAgICAgIGJyZWFrICMgYWN0aXZlIHByb3h5IOGAm+GAnOGArOGAleGAruGAluGAvOGAheGAuuGAkOGAsuGAt+GAoeGAkOGAveGAgOGAuiBodHRwIHByb3h5IOGAnOGArOGAuCBzb2NrIHByb3h5IOGAnOGArOGAuOGAkeGAleGAuuGAmeGAheGAheGAuuGAkOGAseGArOGAt+GAleGAsiBsb29wIOGAgOGAreGAryBicmVhayDhgJDhgKzhgJXhgKvhgYsKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIEVycm9yOgogICAgICAgICAgICAjIHJlcXVlc3RzIOGAkOGAsuGAt+GAoeGAgeGAqyBwcm94eSDhgKHhgJzhgK/hgJXhgLrhgJnhgJzhgK/hgJXhgLrhgJzhgK3hgK/hgLcgZXJyb3Ig4YCQ4YCA4YC64YCb4YCE4YC6IOGAkuGAruGAleGAreGAr+GAt+GAleGAseGAuOGAmeGAvuGArOGAleGAq+GBiwogICAgICAgICAgICBpZiBfdHlwZV8gPT0gInNvY2tzNSI6CiAgICAgICAgICAgICAgICBwcmludCgiXHgxYlsxOzMxbVdhcyBQcm94eSA6IiwgaXApCiAgICAgICAgICAgIGVsc2U6Y29udGludWUKCgoKbWFpbigpCg=='))
